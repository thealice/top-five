move logic from Views into Controllers when possible